type (
	SearchReq {
		Name string `form:"name"`
	//      UserId int64  `form:"user_id"` // ä¸ºäº†æµ‹è¯•æ–¹ä¾¿ï¼Œæˆ‘ä»¬ç›´æ¥æŠŠ ID ä¼ è¿›æ¥
	}
	SearchReply {
		Name  string `json:"name"`
		Count int    `json:"count"`
		Owner string `json:"owner"` // æ–°å¢ï¼šæ˜¾ç¤ºè¿™æœ¬ä¹¦æ˜¯è°æœçš„
	}
	BorrowReq {
		BookId int64 `json:"book_id"`
		UserId int64 `json:"user_id"`
	}
	BorrowReply  {}
)

// æ–°å¢ jwt: Auth é…ç½®
@server (
	jwt:        Auth
	middleware: TimeListener // ğŸ”¥ æ–°å¢è¿™è¡Œï¼šå£°æ˜ä½¿ç”¨ä¸­é—´ä»¶
)
service search-api {
	//http://localhost:8889/search/do?name=gogogo&user_id=1
	@handler search
	get /search/do (SearchReq) returns (SearchReply)

	//http://localhost:8889/search/borrow
	@handler borrow
	post /search/borrow (BorrowReq) returns (BorrowReply)
}

